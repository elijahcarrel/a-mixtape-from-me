@import 'tailwindcss';

/* We manage light/dark mode via a custom user theme toggle, so we cannot just infer it from the system. */
@custom-variant dark (&:where(.dark, .dark *));

:root {
  --sepia-light: #f4ede4;
  --sepia-dark: #2d2d2d;
  --text-color: #2d2d2d;
  --card-bg: #f4ede4;
}

html.dark {
  --sepia-light: #181716;
  --sepia-dark: #f4ede4;
  --text-color: #f4ede4;
  --card-bg: #23201c;
  background: #181716;
}

body {
  background: var(--sepia-light);
  color: var(--text-color);
}

html.dark body {
  background: #181716;
  color: #f4ede4;
}

/* Light mode only: fix Stack popover dropdown background and menu item hover/focus */
html:not(.dark) .stack-scope.bg-popover,
html:not(.dark) .stack-scope .bg-popover {
  background: #f4ede4;
  backdrop-filter: none;
}

html:not(.dark) .stack-scope .focus\:bg-accent:focus,
html:not(.dark) .stack-scope .focus\:bg-accent[data-state='open'],
html:not(.dark) .stack-scope .focus\:bg-accent[data-highlighted] {
  background: #d4c4b0;
  color: #2d2d2d;
}

html:not(.dark) .stack-scope .focus\:text-accent-foreground:focus,
html:not(.dark) .stack-scope .focus\:text-accent-foreground[data-state='open'],
html:not(.dark) .stack-scope .focus\:text-accent-foreground[data-highlighted] {
  color: #2d2d2d;
}

/* Mobile-specific improvements */
@media (max-width: 640px) {
  /* Ensure minimum touch target size */
  button,
  [role='button'] {
    min-height: 44px;
    min-width: 44px;
  }

  /* Improve text readability on small screens */
  input,
  textarea {
    font-size: 16px; /* Prevents zoom on iOS */
  }

  /* Better spacing for mobile */
  .space-y-4 > * + * {
    margin-top: 1rem;
  }

  .space-y-6 > * + * {
    margin-top: 1.5rem;
  }
}
